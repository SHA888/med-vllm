[mypy]
python_version = 3.12
warn_unused_configs = true

# Core type checking options for main code
[mypy]
# Strict type checking for main code
disallow_untyped_defs = False  # Allow untyped functions
disallow_incomplete_defs = False  # Allow incomplete defs
check_untyped_defs = False  # Don't check bodies of functions without type annotations
no_implicit_optional = False  # Allow implicit Optional
warn_return_any = False  # Don't warn about returning Any
warn_redundant_casts = False  # Don't warn about redundant casts
warn_unused_ignores = False  # Don't warn about unused ignores
warn_no_return = False  # Don't warn about missing returns
warn_unreachable = False  # Don't warn about unreachable code
strict_equality = False  # Disable strict equality
disallow_any_unimported = False  # Allow unimported any
ignore_missing_imports = True  # Ignore missing imports for all packages

# Custom stubs path
mypy_path = "medvllm/typeshed"

# Per-module configurations for main code
[mypy-medvllm.medical.config.*]
# Enable strict type checking for config files
check_untyped_defs = True

[mypy-medvllm.medical.config.medical_config]
# Add specific rules for medical_config.py here

[mypy-medvllm.medical.config.serialization]
# Add specific rules for serialization.py here

[mypy-medvllm.medical.config.schema]
# Add specific rules for schema.py here

# Exclude all test files from mypy checking
[mypy-tests.*]
ignore_errors = True

# Exclude test directories from mypy checking
exclude = '^tests/'

# Disable specific test file checks since we're excluding all tests
ignore_errors = False
disallow_untyped_defs = False
check_untyped_defs = True
no_implicit_optional = True

[mypy-tests.unit.engine.test_model_registry_integration]
ignore_errors = False
disallow_untyped_defs = False
check_untyped_defs = True
no_implicit_optional = True

# Ignore third-party packages without stubs
[mypy-*]
ignore_missing_imports = True
